<!doctype html>
<html>
    <head>
      <title>Thermostat</title>
      <link rel="stylesheet" href="css/thermostat.css">
      <script src="js/jquery-2.1.0.min.js"></script>
      <script src="js/daynight.js"></script>
    </head>
  <body background="backgroundp.jpg">
    <div style="padding:5px">
      <div style='float:right'>
        <script type="text/javascript">
        <!--
        var currentTime = new Date()
        var hours = currentTime.getHours()
        var minutes = currentTime.getMinutes()
        if (minutes > 9) {
        document.write(hours+":"+minutes);
      }
      else {
        document.write(hours+":0"+minutes);
      }
        //-->
        </script>
      </div>
        <div style= "float:left">
          <div><a href="thermostat.html"><img src="images/larrow.png"></a>
        </div>
      </div>
      <h2>Day/Night Temperature</h2>

      <div id="setTemp">
        <form>
          <span style='width:150px;display:inline-block;'>Day temperature:</span></br>
          <input type="number" id="dayTemp" style="width: 5em" min="5.0" max="30.0"> °C <input type="button" onclick="submitDay()" value="Submit"></br>
          <div style="width:150px;display:inline-block;">
            <script>
          function get(attribute_name, xml_tag) {
              return requestData(
                  "/"+attribute_name,
                  function(data) {
                      return $(data).find(xml_tag).text();
                  }
              );
          }

          function requestData(address, func) {
              var result;
              $.ajax({
                  type: "get",
                  url: ServerUrl + address,
                  dataType: "xml",
                  async: false,
                  success: function(data) {
                      result = func(data);
                  }
              });
              return result;
          }

          var currentDayTemp = get("dayTemperature", "day_temperature");
          var currentNightTemp = get("nightTemperature", "night_temperature");
          document.write("Current Value: "+currentDayTemp);
            </script>
          </div></br></br>
          <span style='width:150px;display:inline-block;'>Night temperature:</span></br>
          <input type="number" id="nightTemp" style="width: 5em" min="5.0" max="30.0"> °C <input type="button" onclick="submitNight()" value="Submit"></br>
          <div style="width:150px;display:inline-block;">
            <script>
              document.write("Current Value: "+currentNightTemp);
            </script>
          </div></br>
        </form>
      </div>

  </body>
</html>
